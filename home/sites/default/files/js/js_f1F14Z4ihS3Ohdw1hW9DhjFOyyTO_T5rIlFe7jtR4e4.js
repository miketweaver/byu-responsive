// Modernizr v1.7  www.modernizr.com
window.Modernizr=function(a,b,c){function G(){e.input=function(a){for(var b=0,c=a.length;b<c;b++)t[a[b]]=!!(a[b]in l);return t}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),e.inputtypes=function(a){for(var d=0,e,f,h,i=a.length;d<i;d++)l.setAttribute("type",f=a[d]),e=l.type!=="text",e&&(l.value=m,l.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(f)&&l.style.WebkitAppearance!==c?(g.appendChild(l),h=b.defaultView,e=h.getComputedStyle&&h.getComputedStyle(l,null).WebkitAppearance!=="textfield"&&l.offsetHeight!==0,g.removeChild(l)):/^(search|tel)$/.test(f)||(/^(url|email)$/.test(f)?e=l.checkValidity&&l.checkValidity()===!1:/^color$/.test(f)?(g.appendChild(l),g.offsetWidth,e=l.value!=m,g.removeChild(l)):e=l.value!=m)),s[a[d]]=!!e;return s}("search tel url email datetime date month week time datetime-local number range color".split(" "))}function F(a,b){var c=a.charAt(0).toUpperCase()+a.substr(1),d=(a+" "+p.join(c+" ")+c).split(" ");return!!E(d,b)}function E(a,b){for(var d in a)if(k[a[d]]!==c&&(!b||b(a[d],j)))return!0}function D(a,b){return(""+a).indexOf(b)!==-1}function C(a,b){return typeof a===b}function B(a,b){return A(o.join(a+";")+(b||""))}function A(a){k.cssText=a}var d="1.7",e={},f=!0,g=b.documentElement,h=b.head||b.getElementsByTagName("head")[0],i="modernizr",j=b.createElement(i),k=j.style,l=b.createElement("input"),m=":)",n=Object.prototype.toString,o=" -webkit- -moz- -o- -ms- -khtml- ".split(" "),p="Webkit Moz O ms Khtml".split(" "),q={svg:"http://www.w3.org/2000/svg"},r={},s={},t={},u=[],v,w=function(a){var c=b.createElement("style"),d=b.createElement("div"),e;c.textContent=a+"{#modernizr{height:3px}}",h.appendChild(c),d.id="modernizr",g.appendChild(d),e=d.offsetHeight===3,c.parentNode.removeChild(c),d.parentNode.removeChild(d);return!!e},x=function(){function d(d,e){e=e||b.createElement(a[d]||"div");var f=(d="on"+d)in e;f||(e.setAttribute||(e=b.createElement("div")),e.setAttribute&&e.removeAttribute&&(e.setAttribute(d,""),f=C(e[d],"function"),C(e[d],c)||(e[d]=c),e.removeAttribute(d))),e=null;return f}var a={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return d}(),y=({}).hasOwnProperty,z;C(y,c)||C(y.call,c)?z=function(a,b){return b in a&&C(a.constructor.prototype[b],c)}:z=function(a,b){return y.call(a,b)},r.flexbox=function(){function c(a,b,c,d){a.style.cssText=o.join(b+":"+c+";")+(d||"")}function a(a,b,c,d){b+=":",a.style.cssText=(b+o.join(c+";"+b)).slice(0,-b.length)+(d||"")}var d=b.createElement("div"),e=b.createElement("div");a(d,"display","box","width:42px;padding:0;"),c(e,"box-flex","1","width:10px;"),d.appendChild(e),g.appendChild(d);var f=e.offsetWidth===42;d.removeChild(e),g.removeChild(d);return f},r.canvas=function(){var a=b.createElement("canvas");return a.getContext&&a.getContext("2d")},r.canvastext=function(){return e.canvas&&C(b.createElement("canvas").getContext("2d").fillText,"function")},r.webgl=function(){return!!a.WebGLRenderingContext},r.touch=function(){return"ontouchstart"in a||w("@media ("+o.join("touch-enabled),(")+"modernizr)")},r.geolocation=function(){return!!navigator.geolocation},r.postmessage=function(){return!!a.postMessage},r.websqldatabase=function(){var b=!!a.openDatabase;return b},r.indexedDB=function(){for(var b=-1,c=p.length;++b<c;){var d=p[b].toLowerCase();if(a[d+"_indexedDB"]||a[d+"IndexedDB"])return!0}return!1},r.hashchange=function(){return x("hashchange",a)&&(b.documentMode===c||b.documentMode>7)},r.history=function(){return !!(a.history&&history.pushState)},r.draganddrop=function(){return x("dragstart")&&x("drop")},r.websockets=function(){return"WebSocket"in a},r.rgba=function(){A("background-color:rgba(150,255,150,.5)");return D(k.backgroundColor,"rgba")},r.hsla=function(){A("background-color:hsla(120,40%,100%,.5)");return D(k.backgroundColor,"rgba")||D(k.backgroundColor,"hsla")},r.multiplebgs=function(){A("background:url(//:),url(//:),red url(//:)");return(new RegExp("(url\\s*\\(.*?){3}")).test(k.background)},r.backgroundsize=function(){return F("backgroundSize")},r.borderimage=function(){return F("borderImage")},r.borderradius=function(){return F("borderRadius","",function(a){return D(a,"orderRadius")})},r.boxshadow=function(){return F("boxShadow")},r.textshadow=function(){return b.createElement("div").style.textShadow===""},r.opacity=function(){B("opacity:.55");return/^0.55$/.test(k.opacity)},r.cssanimations=function(){return F("animationName")},r.csscolumns=function(){return F("columnCount")},r.cssgradients=function(){var a="background-image:",b="gradient(linear,left top,right bottom,from(#9f9),to(white));",c="linear-gradient(left top,#9f9, white);";A((a+o.join(b+a)+o.join(c+a)).slice(0,-a.length));return D(k.backgroundImage,"gradient")},r.cssreflections=function(){return F("boxReflect")},r.csstransforms=function(){return!!E(["transformProperty","WebkitTransform","MozTransform","OTransform","msTransform"])},r.csstransforms3d=function(){var a=!!E(["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"]);a&&"webkitPerspective"in g.style&&(a=w("@media ("+o.join("transform-3d),(")+"modernizr)"));return a},r.csstransitions=function(){return F("transitionProperty")},r.fontface=function(){var a,c,d=h||g,e=b.createElement("style"),f=b.implementation||{hasFeature:function(){return!1}};e.type="text/css",d.insertBefore(e,d.firstChild),a=e.sheet||e.styleSheet;var i=f.hasFeature("CSS2","")?function(b){if(!a||!b)return!1;var c=!1;try{a.insertRule(b,0),c=/src/i.test(a.cssRules[0].cssText),a.deleteRule(a.cssRules.length-1)}catch(d){}return c}:function(b){if(!a||!b)return!1;a.cssText=b;return a.cssText.length!==0&&/src/i.test(a.cssText)&&a.cssText.replace(/\r+|\n+/g,"").indexOf(b.split(" ")[0])===0};c=i('@font-face { font-family: "font"; src: url(data:,); }'),d.removeChild(e);return c},r.video=function(){var a=b.createElement("video"),c=!!a.canPlayType;if(c){c=new Boolean(c),c.ogg=a.canPlayType('video/ogg; codecs="theora"');var d='video/mp4; codecs="avc1.42E01E';c.h264=a.canPlayType(d+'"')||a.canPlayType(d+', mp4a.40.2"'),c.webm=a.canPlayType('video/webm; codecs="vp8, vorbis"')}return c},r.audio=function(){var a=b.createElement("audio"),c=!!a.canPlayType;c&&(c=new Boolean(c),c.ogg=a.canPlayType('audio/ogg; codecs="vorbis"'),c.mp3=a.canPlayType("audio/mpeg;"),c.wav=a.canPlayType('audio/wav; codecs="1"'),c.m4a=a.canPlayType("audio/x-m4a;")||a.canPlayType("audio/aac;"));return c},r.localstorage=function(){try{return!!localStorage.getItem}catch(a){return!1}},r.sessionstorage=function(){try{return!!sessionStorage.getItem}catch(a){return!1}},r.webWorkers=function(){return!!a.Worker},r.applicationcache=function(){return!!a.applicationCache},r.svg=function(){return!!b.createElementNS&&!!b.createElementNS(q.svg,"svg").createSVGRect},r.inlinesvg=function(){var a=b.createElement("div");a.innerHTML="<svg/>";return(a.firstChild&&a.firstChild.namespaceURI)==q.svg},r.smil=function(){return!!b.createElementNS&&/SVG/.test(n.call(b.createElementNS(q.svg,"animate")))},r.svgclippaths=function(){return!!b.createElementNS&&/SVG/.test(n.call(b.createElementNS(q.svg,"clipPath")))};for(var H in r)z(r,H)&&(v=H.toLowerCase(),e[v]=r[H](),u.push((e[v]?"":"no-")+v));e.input||G(),e.crosswindowmessaging=e.postmessage,e.historymanagement=e.history,e.addTest=function(a,b){a=a.toLowerCase();if(!e[a]){b=!!b(),g.className+=" "+(b?"":"no-")+a,e[a]=b;return e}},A(""),j=l=null,f&&a.attachEvent&&function(){var a=b.createElement("div");a.innerHTML="<elem></elem>";return a.childNodes.length!==1}()&&function(a,b){function p(a,b){var c=-1,d=a.length,e,f=[];while(++c<d)e=a[c],(b=e.media||b)!="screen"&&f.push(p(e.imports,b),e.cssText);return f.join("")}function o(a){var b=-1;while(++b<e)a.createElement(d[b])}var c="abbr|article|aside|audio|canvas|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",d=c.split("|"),e=d.length,f=new RegExp("(^|\\s)("+c+")","gi"),g=new RegExp("<(/*)("+c+")","gi"),h=new RegExp("(^|[^\\n]*?\\s)("+c+")([^\\n]*)({[\\n\\w\\W]*?})","gi"),i=b.createDocumentFragment(),j=b.documentElement,k=j.firstChild,l=b.createElement("body"),m=b.createElement("style"),n;o(b),o(i),k.insertBefore(m,k.firstChild),m.media="print",a.attachEvent("onbeforeprint",function(){var a=-1,c=p(b.styleSheets,"all"),k=[],o;n=n||b.body;while((o=h.exec(c))!=null)k.push((o[1]+o[2]+o[3]).replace(f,"$1.iepp_$2")+o[4]);m.styleSheet.cssText=k.join("\n");while(++a<e){var q=b.getElementsByTagName(d[a]),r=q.length,s=-1;while(++s<r)q[s].className.indexOf("iepp_")<0&&(q[s].className+=" iepp_"+d[a])}i.appendChild(n),j.appendChild(l),l.className=n.className,l.innerHTML=n.innerHTML.replace(g,"<$1font")}),a.attachEvent("onafterprint",function(){l.innerHTML="",j.removeChild(l),j.appendChild(n),m.styleSheet.cssText=""})}(a,b),e._enableHTML5=f,e._version=d,g.className=g.className.replace(/\bno-js\b/,"")+" js "+u.join(" ");return e}(this,this.document);
var byu_template = (function ($) {

    var clickOpened = false;

    $(function () {
        activateMenus();
        loadMenuImages();

        if (!Modernizr.borderradius) {
            var searchButton = $('#search-button');
            searchButton.attr('src', 'template/img/search-button.png');
            searchButton.css('display', 'inline');
            $('#search').css('margin-right', '24px');
        }

        $(window).resize(positionFooter);
        positionFooter();
    });

    function positionFooter() {
        $('#content').css('minHeight', ($(window).height() - $('header').height() - $('footer').height() - 50) + 'px');
    }

    function loadMenuImages() {
        $('span.img').each(function () {
            var span = $(this);
            var url = span.removeClass('img').attr('class'),
		alt = span.attr('title');
            span.replaceWith('<img src="' + (typeof webRoot === 'undefined' ? '' : webRoot + (endsWith(webRoot, '/') ? '' : '/')) + 'images/menu/' + url + '" alt="' + alt + '" />');
        });
    }

    function activateMenus() {
        $('nav li:has(.mega, .sub) > a').click(function (e) {
            e.preventDefault();
            var li = $(this).parent();
            // Only close menu if user clicked to open it
            if (li.hasClass('hover') && clickOpened) {
                li.removeClass('hover');
            }
            else {
                li.addClass('hover');
                $('nav li').not(li).removeClass('hover');
                clickOpened = true;
            }
            return false;
        });

        $('nav li:has(.mega, .sub)').click(function (e) {
            e.stopPropagation();
        });

        // Menu config
        var byuMenuConfig = {
            sensitivity: 10,
            interval: 75,
            over: rollOver, // function = onMouseOver callback (REQUIRED)    
            timeout: 350, // number = milliseconds delay before onMouseOut    
            out: rollOut // function = onMouseOut callback (REQUIRED)    
        };
        $('#secondary-nav > ul > li, #primary-nav > ul > li').hoverIntent(byuMenuConfig);
        $('nav.no-js').removeClass('no-js');

        /* Positions menu divs */
        $('nav li .sub').each(function () {
            var mega = $(this);
            var left = mega.parent().position().left;
            if (left > mega.parent().parent().outerWidth() - mega.outerWidth())
                mega.css('right', 0);
        });
    }

    /* Func: RollOver
    * Desc: Show a dropdown menu on rollover. Called by the hoverIntent function.

    * Args: @evt	- Event object. Automatically generated.
    */
    function rollOver(evt) {

        if (!$(this).hasClass('hover')) {
            clickOpened = false;
            $(this).addClass('hover');
            $('nav li').not(this).removeClass('hover');
            $(document).click(hideAllMenus);
        }
        //if(evt !== undefined) evt.stopPropagation();
    }

    /* Func: RollOut
    * Desc: Hide a dropdown menu on rollout. Called by the hoverIntent function.
    * Args: -
    */
    function rollOut() {
        $(this).removeClass('hover');
    }

    /* Func: HideAllMenus
    * Desc: Hide all dropdown menus. Bound to click action.
    * Args: -
    */
    function hideAllMenus() {
        $('nav li').removeClass('hover');
        $(document).unbind('click');
    }

    function endsWith(str, suffix) {
        return str.indexOf(suffix, str.length - suffix.length) !== -1;
    }

})(jQuery);
/**
* hoverIntent r6 // 2011.02.26 // jQuery 1.5.1+
/* hoverIntent r6 // 2011.02.26 // jQuery 1.5.1+
* <http://cherne.net/brian/resources/jquery.hoverIntent.html>
* 
* @param  f  onMouseOver function || An object with configuration options
* @param  g  onMouseOut function  || Nothing (use configuration options object)
* @author    Brian Cherne brian(at)cherne(dot)net
*/
(function($){$.fn.hoverIntent=function(f,g){var cfg={sensitivity:7,interval:100,timeout:0};cfg=$.extend(cfg,g?{over:f,out:g}:f);var cX,cY,pX,pY;var track=function(ev){cX=ev.pageX;cY=ev.pageY};var compare=function(ev,ob){ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t);if((Math.abs(pX-cX)+Math.abs(pY-cY))<cfg.sensitivity){$(ob).unbind("mousemove",track);ob.hoverIntent_s=1;return cfg.over.apply(ob,[ev])}else{pX=cX;pY=cY;ob.hoverIntent_t=setTimeout(function(){compare(ev,ob)},cfg.interval)}};var delay=function(ev,ob){ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t);ob.hoverIntent_s=0;return cfg.out.apply(ob,[ev])};var handleHover=function(e){var ev=jQuery.extend({},e);var ob=this;if(ob.hoverIntent_t){ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t)}if(e.type=="mouseenter"){pX=ev.pageX;pY=ev.pageY;$(ob).bind("mousemove",track);if(ob.hoverIntent_s!=1){ob.hoverIntent_t=setTimeout(function(){compare(ev,ob)},cfg.interval)}}else{$(ob).unbind("mousemove",track);if(ob.hoverIntent_s==1){ob.hoverIntent_t=setTimeout(function(){delay(ev,ob)},cfg.timeout)}}};return this.bind('mouseenter',handleHover).bind('mouseleave',handleHover)}})(jQuery);;
(function ($) {
    $(function () {
        $('#slider').anythingSlider({
            startPanel: 1, // This sets the initial panel
            hashTags: false, // Should links change the hashtag in the URL?
            autoPlay: true, 	// This turns off the entire slideshow FUNCTIONALY, not just if it starts running or not
            expand: false, 	// If true, the entire slider will expand to fit the parent element
            startStopped: true, 	// If autoPlay is on, this can force it to start stopped
            startText: "Play", // Start button text
            stopText: "Stop", // Stop button text
            delay: 6000, 	// How long between slideshow transitions in AutoPlay mode (in milliseconds)
            animationTime: 600, 	// How long the slideshow transition takes (in milliseconds)
            easing: 'easeInOutCubic', // Anything other than "linear" or "swing" requires the easing plugin
            onSlideBegin: function (slider) { $('.anythingControls, .anythingSlider span.arrow').fadeOut(150); },
            onSlideComplete: function (slider) { $('.anythingControls, .anythingSlider span.arrow').fadeIn(200); }
        });
        $('#feature').css('visibility', 'visible');
    });
})(jQuery);

/*
 AnythingSlider v1.5.17 minified using Google Closure Compiler
 By Chris Coyier: http://css-tricks.com
 with major improvements by Doug Neiner: http://pixelgraphics.us/
 based on work by Remy Sharp: http://jqueryfordesigners.com/
*/

(function(c){c.anythingSlider=function(h,i){var a=this;a.$el=c(h).addClass("anythingBase").wrap('<div class="anythingSlider"><div class="anythingWindow" /></div>');a.$el.data("AnythingSlider",a);a.init=function(){a.options=c.extend({},c.anythingSlider.defaults,i);a.initialized=!1;c.isFunction(a.options.onBeforeInitialize)&&a.$el.bind("before_initialize",a.options.onBeforeInitialize);a.$el.trigger("before_initialize",a);a.$wrapper=a.$el.parent().closest("div.anythingSlider").addClass("anythingSlider-"+ a.options.theme);a.$window=a.$el.closest("div.anythingWindow");a.$controls=c('<div class="anythingControls"></div>').appendTo(a.options.appendControlsTo!==null&&c(a.options.appendControlsTo).length?c(a.options.appendControlsTo):a.$wrapper);a.win=window;a.$win=c(a.win);a.$nav=c('<ul class="thumbNav" />').appendTo(a.$controls);a.flag=!1;a.playing=!1;a.slideshow=!1;a.hovered=!1;a.panelSize=[];a.currentPage=a.options.startPanel=parseInt(a.options.startPanel,10)||1;a.adjustLimit=a.options.infiniteSlides? 0:1;a.outerPad=[a.$wrapper.innerWidth()-a.$wrapper.width(),a.$wrapper.innerHeight()-a.$wrapper.height()];a.options.playRtl&&a.$wrapper.addClass("rtl");a.original=[a.options.autoPlay,a.options.buildNavigation,a.options.buildArrows];if(a.options.expand)a.$outer=a.$wrapper.parent(),a.$window.css({width:"100%",height:"100%"}),a.outerDim=[a.$outer.width(),a.$outer.height()],a.checkResize();a.updateSlider();a.$lastPage=a.$currentPage;a.runTimes=c("div.anythingSlider").index(a.$wrapper)+1;a.regex=RegExp("panel"+ a.runTimes+"-(\\d+)","i");if(!c.isFunction(c.easing[a.options.easing]))a.options.easing="swing";a.options.theme!=="default"&&!c("link[href*="+a.options.theme+"]").length&&c("head").append('<link rel="stylesheet" href="'+a.options.themeDirectory.replace(/\{themeName\}/g,a.options.theme)+'" type="text/css" />');a.options.pauseOnHover&&a.$wrapper.hover(function(){a.playing&&(a.$el.trigger("slideshow_paused",a),a.clearTimer(!0))},function(){a.playing&&(a.$el.trigger("slideshow_unpaused",a),a.startStop(a.playing, !0))});var b,d=a.options.hashTags?a.gotoHash()||a.options.startPanel:a.options.startPanel;a.setCurrentPage(d,!1);a.slideControls(!1);a.$wrapper.bind("mouseenter mouseleave",function(b){a.hovered=b.type==="mouseenter"?!0:!1;a.slideControls(a.hovered,!1)});a.options.enableKeyboard&&c(document).keyup(function(b){if(a.$wrapper.is(".activeSlider")&&!b.target.tagName.match("TEXTAREA|INPUT|SELECT"))switch(b.which){case 39:a.goForward();break;case 37:a.goBack()}});b="slideshow_paused slideshow_unpaused slide_init slide_begin slideshow_stop slideshow_start initialized swf_completed".split(" "); c.each("onShowPause onShowUnpause onSlideInit onSlideBegin onShowStop onShowStart onInitialized onSWFComplete".split(" "),function(d,f){c.isFunction(a.options[f])&&a.$el.bind(b[d],a.options[f])});c.isFunction(a.options.onSlideComplete)&&a.$el.bind("slide_complete",function(){setTimeout(function(){a.options.onSlideComplete(a)},0)});a.initialized=!0;a.$el.trigger("initialized",a)};a.updateSlider=function(){a.$el.find("li.cloned").remove();a.$nav.empty();a.$items=a.$el.find("> li");a.pages=a.$items.length; a.options.showMultiple=parseInt(a.options.showMultiple,10)||1;if(a.options.showMultiple>1){if(a.options.showMultiple>a.pages)a.options.showMultiple=a.pages;a.adjustMultiple=a.options.infiniteSlides?0:parseInt(a.options.showMultiple,10)-1;a.pages=a.$items.length-a.adjustMultiple}if(a.pages<=1)a.options.autoPlay=!1,a.options.buildNavigation=!1,a.options.buildArrows=!1,a.$controls.hide(),a.$nav.hide(),a.$forward&&a.$forward.add(a.$back).hide();else{a.options.autoPlay=a.original[0];a.options.buildNavigation= a.original[1];a.options.buildArrows=a.original[2];a.$controls.show();a.$nav.show();a.$forward&&a.$forward.add(a.$back).show();a.buildNavigation();if(a.options.autoPlay)a.playing=!a.options.startStopped,a.buildAutoPlay();a.options.buildArrows&&a.buildNextBackButtons()}a.options.infiniteSlides&&a.pages>1&&(a.$el.prepend(a.$items.filter(":last").clone().addClass("cloned").removeAttr("id")),a.options.showMultiple>1?a.$el.append(a.$items.filter(":lt("+a.options.showMultiple+")").clone().addClass("cloned").addClass("multiple").removeAttr("id")): a.$el.append(a.$items.filter(":first").clone().addClass("cloned").removeAttr("id")),a.$el.find("li.cloned").each(function(){c(this).find("a,input,textarea,select").attr("disabled","disabled");c(this).find("[id]").removeAttr("id")}));a.$items=a.$el.find("> li").addClass("panel");a.setDimensions();a.options.resizeContents||a.$win.load(function(){a.setDimensions()});a.options.resizeContents&&(a.options.width&&(a.$items.css("width",a.options.width),a.$wrapper.css("width",a.getDim(a.currentPage)[0])), a.options.height&&a.$wrapper.add(a.$items).css("height",a.options.height));if(a.currentPage>a.pages)a.currentPage=a.pages,a.setCurrentPage(a.pages,!1);a.$nav.find("a").eq(a.currentPage-1).addClass("cur");a.hasEmb=a.$items.find("embed[src*=youtube]").length;a.hasSwfo=typeof swfobject!=="undefined"&&swfobject.hasOwnProperty("embedSWF")&&c.isFunction(swfobject.embedSWF)?!0:!1;a.hasEmb&&a.hasSwfo&&a.$items.find("embed[src*=youtube]").each(function(b){var d=c(this).parent()[0].tagName==="OBJECT"?c(this).parent(): c(this);d.wrap('<div id="ytvideo'+b+'"></div>');swfobject.embedSWF(c(this).attr("src")+"&enablejsapi=1&version=3&playerapiid=ytvideo"+b,"ytvideo"+b,d.attr("width"),d.attr("height"),"10",null,null,{allowScriptAccess:"always",wmode:a.options.addWmodeToObject,allowfullscreen:!0},{"class":d.attr("class"),style:d.attr("style")},function(){b>=a.hasEmb-1&&a.$el.trigger("swf_completed",a)})});a.$items.find("a").unbind("focus").bind("focus",function(b){a.$items.find(".focusedLink").removeClass("focusedLink"); c(this).addClass("focusedLink");var d=c(this).closest(".panel");d.is(".activePage")||(a.gotoPage(a.$items.index(d)),b.preventDefault())})};a.buildNavigation=function(){var b,d,e;a.options.buildNavigation&&a.pages>1&&a.$items.filter(":not(.cloned)").each(function(f){var g=f+1;d=(g===1?"first":"")+(g===a.pages?"last":"");e=c('<a href="#"></a>').addClass("panel"+g).wrap('<li class="'+d+'" />');a.$nav.append(e.parent());c.isFunction(a.options.navigationFormatter)?(b=a.options.navigationFormatter(g,c(this)), e.html("<span>"+b+"</span>"),parseInt(e.find("span").css("text-indent"),10)<0&&e.addClass(a.options.tooltipClass).attr("title",b)):e.html("<span>"+g+"</span>");e.bind(a.options.clickControls,function(b){if(!a.flag&&a.options.enableNavigation)a.flag=!0,setTimeout(function(){a.flag=!1},100),a.gotoPage(g),a.options.hashTags&&a.setHash(g);b.preventDefault()})})};a.buildNextBackButtons=function(){if(!a.$forward)a.$forward=c('<span class="arrow forward"><a href="#"><span>'+a.options.forwardText+"</span></a></span>"), a.$back=c('<span class="arrow back"><a href="#"><span>'+a.options.backText+"</span></a></span>"),a.$back.bind(a.options.clickArrows,function(b){a.goBack();b.preventDefault()}),a.$forward.bind(a.options.clickArrows,function(b){a.goForward();b.preventDefault()}),a.$back.add(a.$forward).find("a").bind("focusin focusout",function(){c(this).toggleClass("hover")}),a.$wrapper.prepend(a.$forward).prepend(a.$back),a.$arrowWidth=a.$forward.width()};a.buildAutoPlay=function(){if(!(a.$startStop||a.pages<2))a.$startStop= c("<a href='#' class='start-stop'></a>").html("<span>"+(a.playing?a.options.stopText:a.options.startText)+"</span>"),a.$controls.prepend(a.$startStop),a.$startStop.bind(a.options.clickSlideshow,function(b){a.options.enablePlay&&(a.startStop(!a.playing),a.playing&&(a.options.playRtl?a.goBack(!0):a.goForward(!0)));b.preventDefault()}).bind("focusin focusout",function(){c(this).toggleClass("hover")}),a.startStop(a.playing)};a.checkResize=function(b){clearTimeout(a.resizeTimer);a.resizeTimer=setTimeout(function(){var d= a.$outer.width(),c=a.$outer[0].tagName==="BODY"?a.$win.height():a.$outer.height(),f=a.outerDim;if(f[0]!==d||f[1]!==c)a.outerDim=[d,c],a.setDimensions(),a.gotoPage(a.currentPage,a.playing,null,1);typeof b==="undefined"&&a.checkResize()},500)};a.setDimensions=function(){var b,d,e,f,g,h=0,j=a.options.showMultiple>1?a.options.width||a.$window.width()/a.options.showMultiple:a.$window.width(),i=a.$win.width();a.options.expand&&(b=a.$outer.width()-a.outerPad[0],d=a.$outer.height()-a.outerPad[1],a.$wrapper.add(a.$window).add(a.$items).css({width:b, height:d}),j=a.options.showMultiple>1?b/a.options.showMultiple:b);a.$items.each(function(k){e=c(this).children("*");a.options.resizeContents?(b=parseInt(a.options.width,10)||j,d=parseInt(a.options.height,10)||a.$window.height(),c(this).css({width:b,height:d}),!a.initialized&&e.length===1&&(e.css({width:"100%",height:"100%"}),e[0].tagName==="OBJECT"&&e.find("embed").andSelf().attr({width:"100%",height:"100%"}))):(b=c(this).width(),g=b>=i?!0:!1,e.length===1&&g&&(f=e.width()>=i?j:e.width(),c(this).css("width", f),e.css("max-width",f),b=f),b=g?a.options.width||j:b,c(this).css("width",b),d=c(this).outerHeight(),c(this).css("height",d));a.panelSize[k]=[b,d,h];h+=b});a.$el.css("width",h<a.options.maxOverallWidth?h:a.options.maxOverallWidth)};a.getDim=function(b){var b=a.options.infiniteSlides?b:b-1,d,c=a.panelSize[b][0],f=a.panelSize[b][1];if(a.options.showMultiple>1)for(d=1;d<a.options.showMultiple;d++)c+=a.panelSize[(b+d)%a.options.showMultiple][0],f=Math.max(f,a.panelSize[b+d][1]);return[c,f]};a.gotoPage= function(b,d,c,f){if(!(a.pages<=1)){a.$lastPage=a.$currentPage;if(typeof b!=="number")b=a.options.startPanel,a.setCurrentPage(b);if(!a.hasEmb||!a.checkVideo(a.playing))b>a.pages+1-a.adjustLimit&&(b=!a.options.infiniteSlides&&!a.options.stopAtEnd?1:a.pages),b<a.adjustLimit&&(b=!a.options.infiniteSlides&&!a.options.stopAtEnd?a.pages:1),a.currentPage=b>a.pages?a.pages:b<1?1:a.currentPage,a.$currentPage=a.$items.eq(a.currentPage-1),a.exactPage=b,a.$el.trigger("slide_init",a),a.slideControls(!0,!1),d!== !0&&(d=!1),(!d||a.options.stopAtEnd&&b===a.pages)&&a.startStop(!1),a.$el.trigger("slide_begin",a),a.options.resizeContents||(d=a.getDim(b),a.$wrapper.filter(":not(:animated)").animate({width:d[0],height:d[1]},{queue:!1,duration:f||a.options.animationTime,easing:a.options.easing})),a.$el.filter(":not(:animated)").animate({left:-a.panelSize[a.options.infiniteSlides?b:b-1][2]},{queue:!1,duration:f||a.options.animationTime,easing:a.options.easing,complete:function(){a.endAnimation(b,c)}})}};a.endAnimation= function(b,d){b===0?(a.$el.css("left",-a.panelSize[a.pages][2]),b=a.pages):b>a.pages&&(a.$el.css("left",-a.panelSize[1][2]),b=1);a.exactPage=b;a.setCurrentPage(b,!1);a.$items.removeClass("activePage").eq(b-a.adjustLimit).addClass("activePage");a.hovered||a.slideControls(!1);if(a.hasEmb){var e=a.$currentPage.find("object[id*=ytvideo], embed[id*=ytvideo]");e.length&&c.isFunction(e[0].getPlayerState)&&e[0].getPlayerState()>0&&e[0].getPlayerState()!==5&&e[0].playVideo()}a.$el.trigger("slide_complete", a);typeof d==="function"&&d(a);a.options.autoPlayLocked&&!a.playing&&setTimeout(function(){a.startStop(!0)},a.options.resumeDelay-a.options.delay)};a.setCurrentPage=function(b,d){if(!(a.pages<=1)){b=parseInt(b,10);b>a.pages+1-a.adjustLimit&&(b=a.pages-a.adjustLimit);b<a.adjustLimit&&(b=1);a.options.buildNavigation&&(a.$nav.find(".cur").removeClass("cur"),a.$nav.find("a").eq(b-1).addClass("cur"));!a.options.infiniteSlides&&a.options.stopAtEnd&&(a.$wrapper.find("span.forward")[b===a.pages?"addClass": "removeClass"]("disabled"),a.$wrapper.find("span.back")[b===1?"addClass":"removeClass"]("disabled"),b===a.pages&&a.playing&&a.startStop());if(!d){var e=a.getDim(b);a.$wrapper.css({width:e[0],height:e[1]});a.$wrapper.scrollLeft(0);a.$el.css("left",-a.panelSize[a.options.infiniteSlides?b:b-1][2])}a.currentPage=b;a.$currentPage=a.$items.eq(b).addClass("activePage");a.$wrapper.is(".activeSlider")||(c(".activeSlider").removeClass("activeSlider"),a.$wrapper.addClass("activeSlider"))}};a.goForward=function(b){b!== !0&&(b=!1,a.startStop(!1));a.gotoPage(a.currentPage+1,b)};a.goBack=function(b){b!==!0&&(b=!1,a.startStop(!1));a.gotoPage(a.currentPage-1,b)};a.gotoHash=function(){var b=a.win.location.hash.match(a.regex);return b===null?"":parseInt(b[1],10)};a.setHash=function(b){var d="panel"+a.runTimes+"-",c=a.win.location.hash;if(typeof c!=="undefined")a.win.location.hash=c.indexOf(d)>0?c.replace(a.regex,d+b):c+"&"+d+b};a.slideControls=function(b){var c=b?0:a.options.animationTime,e=b?a.options.animationTime:0, f=b?1:0,g=b?0:1;a.options.toggleControls&&a.$controls.stop(!0,!0).delay(c)[b?"slideDown":"slideUp"](a.options.animationTime/2).delay(e);a.options.buildArrows&&a.options.toggleArrows&&(!a.hovered&&a.playing&&(g=1,f=0),a.$forward.stop(!0,!0).delay(c).animate({right:g*a.$arrowWidth,opacity:f},a.options.animationTime/2),a.$back.stop(!0,!0).delay(c).animate({left:g*a.$arrowWidth,opacity:f},a.options.animationTime/2))};a.clearTimer=function(b){if(a.timer&&(a.win.clearInterval(a.timer),!b&&a.slideshow))a.$el.trigger("slideshow_stop", a),a.slideshow=!1};a.startStop=function(b,c){b!==!0&&(b=!1);if(b&&!c)a.$el.trigger("slideshow_start",a),a.slideshow=!0;a.playing=b;a.options.autoPlay&&(a.$startStop.toggleClass("playing",b).html("<span>"+(b?a.options.stopText:a.options.startText)+"</span>"),parseInt(a.$startStop.find("span").css("text-indent"),10)<0&&a.$startStop.addClass(a.options.tooltipClass).attr("title",b?"Stop":"Start"));b?(a.clearTimer(!0),a.timer=a.win.setInterval(function(){if(!a.hasEmb||!a.checkVideo(b))a.options.playRtl? a.goBack(!0):a.goForward(!0)},a.options.delay)):a.clearTimer()};a.checkVideo=function(b){var d,e,f=!1;a.$items.find("object[id*=ytvideo], embed[id*=ytvideo]").each(function(){d=c(this);d.length&&c.isFunction(d[0].getPlayerState)&&(e=d[0].getPlayerState(),b&&(e===1||e>2)&&a.$items.index(d.closest("li.panel"))===a.currentPage&&a.options.resumeOnVideoEnd?f=!0:e>0&&d[0].pauseVideo())});return f};a.init()};c.anythingSlider.defaults={width:null,height:null,expand:!1,resizeContents:!0,showMultiple:!1,tooltipClass:"tooltip", theme:"default",themeDirectory:"css/theme-{themeName}.css",startPanel:1,hashTags:!0,infiniteSlides:!0,enableKeyboard:!0,buildArrows:!0,toggleArrows:!1,buildNavigation:!0,enableNavigation:!0,toggleControls:!1,appendControlsTo:null,navigationFormatter:null,forwardText:"&raquo;",backText:"&laquo;",enablePlay:!0,autoPlay:!0,autoPlayLocked:!1,startStopped:!1,pauseOnHover:!0,resumeOnVideoEnd:!0,stopAtEnd:!1,playRtl:!1,startText:"Start",stopText:"Stop",delay:3E3,resumeDelay:15E3,animationTime:600,easing:"swing", clickArrows:"click",clickControls:"click focusin",clickSlideshow:"click",addWmodeToObject:"opaque",maxOverallWidth:32766};c.fn.anythingSlider=function(h,i){return this.each(function(){var a,b=c(this).data("AnythingSlider");(typeof h).match("object|undefined")?b?b.updateSlider():new c.anythingSlider(this,h):/\d/.test(h)&&!isNaN(h)&&b&&(a=typeof h==="number"?h:parseInt(c.trim(h),10),a>=1&&a<=b.pages&&b.gotoPage(a,!1,i))})}})(jQuery);;
